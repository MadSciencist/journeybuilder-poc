(this.webpackJsonpjourneybuilderpoc=this.webpackJsonpjourneybuilderpoc||[]).push([[0],{10:function(t,e,i){},11:function(t,e,i){},18:function(t,e,i){},27:function(t,e,i){},28:function(t,e,i){},29:function(t,e,i){"use strict";i.r(e);var n=i(3),s=i(0),c=i(1),a=i.n(c),r=i(12),o=i.n(r),l=(i(18),i(2)),d=i(4),j=(i(10),function(t){var e=t.title,i=t.id,n=t.active,c=t.isLast,a=t.onClick,r=t.onAddClick,o=t.onRemoveClick,l=(t.onAddDecisionClick,t.style);return Object(s.jsx)("div",{style:l,className:"task ".concat(n?"task-active":""),children:Object(s.jsxs)("div",{className:"task-inside",children:[Object(s.jsx)("div",{style:{width:"100%",height:"100%"},onClick:function(t){a(i)},children:Object(s.jsx)("span",{className:"task-text",children:e})}),n&&Object(s.jsx)("div",{className:"remove-wrapper",onClick:function(){return o(i)},children:Object(s.jsx)("i",{className:"fas fa-trash la-lg"})}),n&&c&&Object(s.jsx)("div",{className:"right-icons-wrapper",children:Object(s.jsx)("div",{title:"Add next task",onClick:function(){return r(i)},children:Object(s.jsx)("i",{className:"fas fa-arrow-circle-right fa-2x"})})})]})})}),u=i(7),f=(i(11),function(t){var e=t.id,i=t.title,n=t.tasks,c=t.isLast,a=t.active,r=t.onTaskSelected,o=t.onTaskAdd,l=t.onTaskRemove,d=t.onProcessSelected,f=t.onProcessRemove,b=t.onAddProcess,O=t.sortTasks;return Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(s.jsxs)("div",{onClick:function(t){t.target.className.includes("process")&&d(e)},className:"process task-inside tasks-wrapper ".concat(a?"task-active":""),children:[Object(s.jsx)("span",{className:"process-text",children:i}),Object(s.jsx)(u.ReactSortable,{style:{display:"flex",justifyContent:"center"},list:n,setList:function(t,i,n){return O(e,t,i,n)},children:n.map((function(t,i){return Object(s.jsxs)(s.Fragment,{children:[i>0&&Object(s.jsx)("span",{style:{marginLeft:5},children:"----\x3e"}),Object(s.jsx)(j,{id:t.id,title:t.title,onClick:function(t){return r(e,t)},onRemoveClick:function(t){return l(e,t)},onAddClick:function(t){return o(e,t)},active:t.active,isLast:i===n.length-1},t.id)]})}))}),a&&Object(s.jsx)("div",{className:"remove-wrapper",onClick:function(){return f(e)},children:Object(s.jsx)("i",{className:"fas fa-trash la-lg"})}),a&&c&&Object(s.jsx)("div",{className:"right-icons-wrapper-process",children:Object(s.jsx)("div",{title:"Add next task",onClick:function(){return b(e)},children:Object(s.jsx)("i",{className:"fas fa-arrow-circle-right fa-3x"})})})]})})}),b=[{id:"process1",title:"Capture Initial Data",active:!1,tasks:[{id:"Capture KYC",title:"Capture KYC",active:!1},{id:"Approve Risk",title:"Approve Risk",active:!1},{id:"Some Decision",title:"Some Decision",active:!1,type:"decision",outcomes:{x:{id:"Outcome 1",title:"Outcome 1",active:!1},y:{id:"Outcome 2",title:"Outcome 2",active:!1}}},{id:"Verify Entity",title:"Verify Entity",active:!1}]},{id:"process2",title:"process2",active:!1,tasks:[{id:"process2 Capture KYC",title:"Capture KYC",active:!1},{id:"Risk Assessment",title:"Risk Assessment",active:!1}]}],O=function(t){var e=t.title,i=Object(c.useState)(b),a=Object(n.a)(i,2),r=a[0],o=a[1],j=function(t,e){var i=r.find((function(e){return e.id===t})),n=r.indexOf(i),s=i.tasks.find((function(t){return t.id===e})),c=i.tasks.indexOf(s),a=Object(d.a)(i.tasks);a[c]=Object(l.a)(Object(l.a)({},s),{},{active:!s.active});var j=Object(d.a)(r);j[n]=Object(l.a)(Object(l.a)({},i),{},{tasks:a}),o(j)},u=function(t){var e=r.find((function(e){return e.id===t})),i=r.indexOf(e),n=Object(d.a)(r);n[i]=Object(l.a)(Object(l.a)({},e),{},{active:!n[i].active}),o(n)},O=function(t){o(r.filter((function(e){return e.id!==t})))},v=function(t){var e=r.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{active:!1})}));e.push({id:Math.random().toString(36).substring(7),title:"Change me",active:!1,tasks:[{id:Math.random().toString(36).substring(7),title:"Change me"}]}),o(e)},x=function(t,e){var i=r.find((function(e){return e.id===t})),n=r.indexOf(i),s=i.tasks.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{active:!1})}));s.push({id:Math.random().toString(36).substring(7),title:"Change me",active:!1});var c=Object(d.a)(r);c[n]=Object(l.a)(Object(l.a)({},i),{},{tasks:s}),o(c)},h=function(t,e){var i=r.find((function(e){return e.id===t})),n=r.indexOf(i),s=i.tasks.filter((function(t){return t.id!==e})),c=Object(d.a)(r);c[n]=Object(l.a)(Object(l.a)({},i),{},{tasks:s}),o(c)},p=function(t,e,i,n){console.log(e);var s=r.find((function(e){return e.id===t})),c=r.indexOf(s),a=Object(d.a)(r);a[c]=Object(l.a)(Object(l.a)({},s),{},{tasks:e.filter((function(t){return t}))}),o(a)};return Object(s.jsx)("div",{style:{width:"100%",height:"100%",marginTop:50},children:Object(s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(s.jsxs)("div",{className:"process-wrapper",children:[Object(s.jsx)("span",{className:"process-text",children:e}),r.map((function(t,e){return Object(s.jsxs)(s.Fragment,{children:[e>0&&Object(s.jsx)("span",{style:{marginLeft:5},children:"----\x3e"}),Object(s.jsx)(f,{id:t.id,title:t.title,active:t.active,tasks:t.tasks,isLast:e===r.length-1,onTaskSelected:j,onTaskAdd:x,onTaskRemove:h,onProcessSelected:u,onProcessRemove:O,onAddProcess:v,sortTasks:p},t.id)]})}))]})})})},v=i(8);i(26);function x(t){var e=Object(c.useState)(!1),i=Object(n.a)(e,2),s=i[0],a=i[1];function r(e){e.key===t&&a(!0)}var o=function(e){e.key===t&&a(!1)};return Object(c.useEffect)((function(){return window.addEventListener("keydown",r),window.addEventListener("keyup",o),function(){window.removeEventListener("keydown",r),window.removeEventListener("keyup",o)}}),[]),s}var h=function(){var t=x("Shift");return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(v.PanZoom,{preventPan:function(){return!t},children:Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh"},children:[Object(s.jsx)("div",{style:{position:"relative"},children:Object(s.jsx)(O,{title:"First stage"})}),Object(s.jsx)("div",{style:{position:"relative",marginTop:50},children:Object(s.jsx)(O,{title:"Second stage"})}),Object(s.jsx)("div",{style:{position:"relative",marginTop:50},children:Object(s.jsx)(O,{title:"Third stage"})})]})})})},p=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,30)).then((function(e){var i=e.getCLS,n=e.getFID,s=e.getFCP,c=e.getLCP,a=e.getTTFB;i(t),n(t),s(t),c(t),a(t)}))},k=(i(27),function(t){var e=t.id,i=t.title,a=(t.onRemoveClick,t.onAddClick),r=Object(c.useState)(!1),o=Object(n.a)(r,2),l=o[0],d=o[1];return Object(s.jsx)("div",{className:"f-task-root ".concat(l&&"f-task-root-active"),children:Object(s.jsxs)("div",{className:"f-task-inner",children:[Object(s.jsxs)("div",{style:{width:"100%",height:"100%"},onClick:function(){return d(!l)},children:[Object(s.jsx)("i",{className:"f-task-logo fas fa-user la-lg"}),Object(s.jsx)("div",{className:"f-task-title",children:i})]}),l&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"f-task-left-icons-wrapper",children:Object(s.jsx)("div",{title:"Add previous task",onClick:function(){return a(e)},children:Object(s.jsx)("i",{className:"fas fa-arrow-circle-left fa-2x"})})}),Object(s.jsxs)("div",{className:"f-task-top-icons-wrapper",children:[Object(s.jsx)("i",{title:"Reorder",className:"fas fa-grip-lines-vertical la-lg f-task-icon-drag f-task-top-icon drag-handle"}),Object(s.jsx)("i",{title:"Properties",className:"fas fa-cog la-lg f-task-icon-space f-task-top-icon"}),Object(s.jsx)("i",{title:"Copy",className:"fas fa-cut la-lg f-task-icon-space f-task-top-icon"}),Object(s.jsx)("i",{title:"Copy",className:"fas fa-copy la-lg f-task-icon-space f-task-top-icon"}),Object(s.jsx)("i",{title:"Remove",className:"fas fa-trash la-lg f-task-top-icon"})]}),Object(s.jsx)("div",{className:"f-task-right-icons-wrapper",children:Object(s.jsx)("div",{title:"Add next task",onClick:function(){return a(e)},children:Object(s.jsx)("i",{className:"fas fa-arrow-circle-right fa-2x"})})})]})]})})}),m=(i(28),function(){return Object(s.jsx)("div",{className:"drag-ignore",style:{width:60,height:"100%",textAlign:"center",paddingLeft:10,paddingRight:10,alignContent:"center"},children:Object(s.jsx)("svg",{viewBox:"0 0 150 150",children:Object(s.jsxs)("g",{transform:"translate(0,70)",children:[Object(s.jsx)("line",{y2:"24.704",x1:"1.266",x2:"125.3",stroke:"#000000",strokeMiterlimit:"10",y1:"24.704",strokeWidth:"6"}),Object(s.jsx)("polygon",{points:"124.4 6.284 124.4 44.606 148.35 23.69"})]})})})}),g=[{id:123,title:"Capture KYC Data"},{id:123444,title:"Risk Assessment"},{id:1544,title:"Uber Task"}],y=function(t){var e=t.id,i=t.title,n=t.skipArrow;return Object(s.jsxs)("div",{style:{display:"flex"},children:[!n&&Object(s.jsx)(m,{},"arr_".concat(e)),Object(s.jsx)(k,{id:e,title:i},e)]})},C=function(){var t=Object(c.useState)(g),e=Object(n.a)(t,2),i=e[0],a=e[1];return Object(s.jsx)("div",{style:{display:"flex"},children:Object(s.jsx)(u.ReactSortable,{style:{display:"flex",justifyContent:"center"},list:i,filter:".drag-ignore",handle:".drag-handle",ghostClass:"ghost",setList:function(t){return a(t.filter((function(t){return t})))},children:i.map((function(t,e){return Object(s.jsx)(y,{id:t.id,title:t.title,skipArrow:0===e},t.id)}))})})},w=function(){var t=x("Control");return Object(s.jsx)(v.PanZoom,{disableDoubleClickZoom:!0,preventPan:function(){return t},children:Object(s.jsx)("div",{style:{width:"100%",height:"100vh",marginTop:"5rem",marginLeft:"5rem"},children:Object(s.jsx)(C,{})})})},N=function(){var t=Object(c.useState)(2),e=Object(n.a)(t,2),i=e[0],a=e[1];return null===i?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{onClick:function(){return a(1)},children:"Version 1"}),Object(s.jsx)("button",{onClick:function(){return a(2)},children:"Version 2"})]}):1===i?Object(s.jsx)(h,{}):2===i?Object(s.jsx)(w,{}):void 0};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(N,{})}),document.getElementById("root")),p()}},[[29,1,2]]]);
//# sourceMappingURL=main.4fb319fc.chunk.js.map